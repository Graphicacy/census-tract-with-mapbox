(this["webpackJsonpcensus-tract-with-mapbox"]=this["webpackJsonpcensus-tract-with-mapbox"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/Graphicacy_logo.a21d2b02.svg"},30:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(24),c=a.n(i),o=a(8),l=a(16),s=a(12),u=a(57),p=a(58),d=a(59),m=a(60),f="#343131",h="#fff",g={latitude:41.5096879,longitude:-73.0447974,zoom:8,bearing:0,pitch:0},b=Object(p.a)("$,.0f"),y=Object(p.a)("$.3s"),v="total_est",x={clipped:{style:"mapbox://styles/graphicacy/ckhs3vpu21oqb19nyrsvzaq8n",name:"tractsclippedbystatewithdata",source:"mapbox://graphicacy.d4j3v1uy"}},E=[36836,52390,69315,91857,120714,166635,250002],w=d.a[7].map((function(e,t){return[e,E[t]]})),j={"fill-color":["step",["get",v]].concat(Object(m.a)(w)).concat("#fff"),"fill-opacity":1},O=Object(u.a)((function(e){return{tooltip:{position:"absolute",margin:"8px",fontSize:"10px",zIndex:"9",pointerEvents:"none",width:function(e){return e.tooltipWidth},height:function(e){return e.tooltipHeight},boxShadow:"0 3px 6px #00000029",textAlign:"center",borderRadius:"8px"},header:{width:"100%",height:"100%",background:"".concat(h," 0 0 no-repeat padding-box"),color:f,padding:"10px"}}})),k=function(e){var t=e.activeFeature,a=e.x,n=e.y,i=e.width,c=e.height,o=O({tooltipWidth:300,tooltipHeight:100});return t?(300+a>i-10&&(a-=300),100+n>c-10&&(n-=100),r.a.createElement("div",{className:o.tooltip,style:{left:a,top:n}},r.a.createElement("div",{className:o.header},r.a.createElement("h2",null,t.properties.name),r.a.createElement("h2",null,"".concat("Median Household Income",": ").concat(b(t.properties[v])))))):null},S=Object(u.a)((function(e){return{map:{width:"100%",height:"100%"}}})),I=function(e){var t=S(),a=Object(n.useState)({width:500,height:300,activeFeature:null,x:0,y:0}),r=Object(o.a)(a,2),i=r[0],c=r[1],u=Object(n.useRef)(null),p=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=u.current,t=e.offsetWidth,a=e.offsetHeight;c((function(e){return Object(l.a)({},e,{width:t,height:a})}))}),[]);return n.createElement("div",{className:t.map,ref:u},n.createElement(s.c,Object.assign({},e.state.viewport,{ref:p,width:"100%",height:"100%",onMouseLeave:function(){p.current.getMap().removeFeatureState({source:x.clipped.name,sourceLayer:x.clipped.name})},onMouseMove:function(e){var t,a=e.srcEvent,n=a.offsetX,r=a.offsetY,o=[e.center.x,e.center.y],s=p.current.getMap();try{t=s.queryRenderedFeatures(o,{layers:["fill_layer"]})[0]}catch(u){return}t&&(i.activeFeature&&s.removeFeatureState({source:x.clipped.name,sourceLayer:x.clipped.name}),s.setFeatureState({source:x.clipped.name,sourceLayer:x.clipped.name,id:t.id},{hover:!0})),c((function(e){return Object(l.a)({},e,{activeFeature:t,x:n,y:r})}))},mapStyle:x.clipped.style,onViewportChange:function(t){return e.setState((function(e){return Object(l.a)({},e,{viewport:t})}))},mapboxApiAccessToken:"pk.eyJ1IjoiZ3JhcGhpY2FjeSIsImEiOiJja2hjNWRkbHowMTRzMnhsOWw2YTEyNGg0In0.U7iJwzcfSizpZ9E0eexscg"}),n.createElement(s.b,{id:x.clipped.name,type:"vector",url:x.clipped.source}),n.createElement(s.a,{type:"fill",id:"fill_layer",filter:["has",v],source:x.clipped.name,"source-layer":x.clipped.name,paint:j}),n.createElement(s.a,{type:"line",source:x.clipped.name,"source-layer":x.clipped.name,paint:{"line-width":["case",["boolean",["feature-state","hover"],!1],3,.5],"line-color":["case",["boolean",["feature-state","hover"],!1],"#000","#969090"],"line-opacity":.5}})),n.createElement(k,i))},N=a(29),z=a.n(N),B=Object(u.a)((function(e){return{legend:{width:function(e){return e.width},display:"flex",flexDirection:"column",margin:"10px","& h4":{marginBlockStart:0,marginBlockEnd:".5rem"},"& :not(:last-child)":{paddingBottom:".25rem"},paddingRight:"15px",color:f},innerContainer:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},legendItem:{display:"flex",flexDirection:"column","& .block":{width:"100%",height:"15px"},textAlign:"end"}}})),C=function(){var e=B({width:600});return r.a.createElement("div",{className:e.legend},r.a.createElement("h4",null,"The ACS-based estimate of Median Household Income from 2013-2017"),r.a.createElement("div",{className:e.innerContainer},w.map((function(t,a){var n=Object(o.a)(t,2),i=n[0],c=n[1];return r.a.createElement("div",{className:e.legendItem,key:"legend-item-for-".concat(i),style:{width:600/w.length}},r.a.createElement("div",{className:"block",style:{backgroundColor:i}}),r.a.createElement("div",null,"".concat(a?"":"<").concat(y(c))))}))),r.a.createElement("div",null,"Source:"," ",r.a.createElement("a",{href:"http://data.diversitydatakids.org/dataset/19013_1_d-median-household-income--dollar--by-race-ethnicity/resource/c5334c27-3cf0-439b-b8b0-5ff7eb632b57",target:"_blank",rel:"noopener noreferrer"},"diversitydatakids.org")))},F=Object(u.a)((function(e){return{builtBy:{display:"flex",height:"100px",position:"absolute",zIndex:"999",backgroundColor:"#fff",width:"100%",justifyContent:"space-between",alignItems:"center","& h3":{fontSize:"24px"}},builtByContainer:{display:"flex",alignItems:"center",marginLeft:"15px","& img":{marginLeft:"6px",marginTop:"10px"}}}})),M=function(){var e=F();return r.a.createElement("div",{className:e.builtBy},r.a.createElement("div",{className:e.builtByContainer},r.a.createElement("div",null,r.a.createElement("h3",null,"BUILT BY")),r.a.createElement("div",null,r.a.createElement("a",{href:"https://graphicacy.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:z.a,alt:"Large G branding for Graphicacy - a data visualization and design firm."})))),r.a.createElement(C,null))},L=Object(u.a)((function(e){return{app:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh",margin:"0 auto",overflowY:"hidden"}}})),_=function(){var e=L(),t=Object(n.useState)({viewport:g}),a=Object(o.a)(t,2),i=a[0],c=a[1];return r.a.createElement("div",{className:e.app},r.a.createElement(M,null),r.a.createElement(I,{state:i,setState:c}))};a(39),a(40);c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.c7be9910.chunk.js.map